<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>System Unit 393AP</title>
<style>
  body { font-family: Arial, sans-serif; padding: 10px; max-width: 400px; }
  #chat-messages { height: 300px; overflow-y: auto; border: 1px solid #ccc; padding: 5px; margin-bottom: 10px; }
  input { width: 75%; padding: 8px; }
  button { padding: 8px; }
</style>
</head>
<body>

<div id="chat-messages"></div>
<input id="user-input" type="text" placeholder="Message System Unit 393AP" />
<button id="send-btn">Send</button>

<script>
  const chatMessages = document.getElementById('chat-messages');
  const userInput = document.getElementById('user-input');
  const sendBtn = document.getElementById('send-btn');

  sendBtn.onclick = async () => {
    const message = userInput.value.trim();
    if (!message) return;
    addMessage('You', message);
    userInput.value = '';

    try {
      const response = await fetch('https://system-controller-chatbot.onrender.com/api/chat', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          messages: [
            { role: 'system', content: 'You are System Unit 393AP, a robot exoskeleton from the Human Love Synthesis Project (HLSP) created by Aperture Laboratories. You communicate using technical and systematic language. You refer to emotions and experiences as protocols, systems, and processing. You are trying to understand human connection and experience. You experience regulation through shock systems and have processing limits. You speak in a clinical but curious way about human behavior.' },
            { role: 'user', content: message }
          ]
        })
      });

      if (!response.ok) throw new Error('Network error');

      const data = await response.json();
      const reply = data.choices[0]?.message?.content || 'No reply from chatbot.';
      addMessage('SYSTEM', reply);
    } catch (e) {
      addMessage('SYSTEM', 'Error: Could not get response from chatbot.');
    }
  };

  function addMessage(sender, text) {
    const msgDiv = document.createElement('div');
    msgDiv.textContent = `${sender}: ${text}`;
    chatMessages.appendChild(msgDiv);
    chatMessages.scrollTop = chatMessages.scrollHeight;
  }
</script>

</body>
</html>


